<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#f0efeb" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#121212" media="(prefers-color-scheme: dark)">
    <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ú–ö–ù–º-241</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-body: #f0efeb;
            --text-main: #2d2d30;
            --text-sub: #6e6e73;
            --text-accent: #000000;
            --card-bg: rgba(255, 255, 255, 0.6);
            --card-border: rgba(255, 255, 255, 0.5);
            --lesson-bg: rgba(255, 255, 255, 0.5);
            --lesson-hover: #ffffff;
            --nav-bg: #ffffff;
            --nav-btn-bg: #f7f7f8;
            --nav-btn-hover: #eeeeee;
            --tag-bg: rgba(0, 0, 0, 0.04);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
            --dot-lec: #d4e4f1;
            --dot-pra: #f0d9cc;
            --dot-lab: #dbd3dc;
            --ease: cubic-bezier(0.4, 0.0, 0.2, 1);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-body: #121212;
                --text-main: #e0e0e0;
                --text-sub: #a0a0a0;
                --text-accent: #ffffff;
                --card-bg: rgba(30, 30, 30, 0.6);
                --card-border: rgba(255, 255, 255, 0.1);
                --lesson-bg: rgba(45, 45, 45, 0.5);
                --lesson-hover: #2c2c2c;
                --nav-bg: #1e1e1e;
                --nav-btn-bg: #2c2c2c;
                --nav-btn-hover: #3a3a3a;
                --tag-bg: rgba(255, 255, 255, 0.1);
                --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                --dot-lec: #8ab6d6;
                --dot-pra: #d6bfae;
                --dot-lab: #b3a5b5;
            }
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s, color 0.3s;
        }
        .app-container {
            width: 100%;
            max-width: 1200px;
            padding: 20px 20px 120px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        .header { margin-top: 10px; padding: 0 10px; text-align: left; }
        .header__label { font-size: 0.85rem; color: var(--text-sub); font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 4px; }
        .header__title { font-size: 2.5rem; font-weight: 300; letter-spacing: -0.03em; color: var(--text-accent); line-height: 1.1; }
        .schedule-grid { display: flex; flex-direction: column; gap: 16px; opacity: 1; transition: opacity 0.25s var(--ease), transform 0.25s var(--ease); }
        .schedule-grid.fade-out { opacity: 0; transform: translateY(10px); }
        @media (min-width: 768px) {
            .schedule-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); align-items: start; gap: 24px; }
            .header { padding-left: 20px; margin-top: 40px; margin-bottom: 20px; }
        }
        .day-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 24px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            box-shadow: var(--shadow);
        }
        .day-card--today {
            background: var(--card-bg);
            border: 2px solid var(--text-main);
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }
        .day-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 8px; border-bottom: 1px solid var(--card-border); margin-bottom: 4px; }
        .day-title { font-size: 1.1rem; font-weight: 600; color: var(--text-main); }
        .today-badge { font-size: 0.7rem; font-weight: 700; color: var(--bg-body); background: var(--text-main); padding: 4px 12px; border-radius: 100px; }
        .lesson {
            position: relative;
            padding: 12px 16px;
            background: var(--lesson-bg);
            border-radius: 16px;
            text-decoration: none;
            color: inherit;
            transition: background 0.2s, transform 0.2s;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .lesson:hover { background: var(--lesson-hover); box-shadow: var(--shadow); transform: translateY(-2px); }
        .lesson__time { font-size: 0.75rem; font-weight: 600; color: var(--text-sub); display: flex; align-items: center; gap: 8px; }
        
        /* –ö—Ä—É–∂–æ—á–∫–∏ –±–µ–∑ –æ–±–≤–æ–¥–∫–∏ */
        .lesson__time::before {
            content: ''; width: 8px; height: 8px; border-radius: 50%;
            background: #d1d1d6;
        }
        .lesson[data-type="–õ–µ–∫—Ü–∏—è"] .lesson__time::before { background: var(--dot-lec); }
        .lesson[data-type="–ü—Ä–∞–∫—Ç–∏–∫–∞"] .lesson__time::before { background: var(--dot-pra); }
        .lesson[data-type="–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è"] .lesson__time::before { background: var(--dot-lab); }

        .lesson__name { font-size: 0.95rem; font-weight: 500; line-height: 1.4; color: var(--text-main); }
        .lesson__meta { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 4px; }
        .tag { font-size: 0.7rem; padding: 3px 10px; border-radius: 6px; background: var(--tag-bg); color: var(--text-sub); }
        .nav-wrapper { position: fixed; bottom: 30px; left: 0; right: 0; display: flex; justify-content: center; z-index: 100; pointer-events: none; }
        .nav-pill { pointer-events: auto; background: var(--nav-bg); padding: 6px; border-radius: 100px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); border: 1px solid var(--card-border); display: flex; align-items: center; gap: 8px; }
        .nav-btn { width: 44px; height: 44px; border-radius: 50%; border: none; background: var(--nav-btn-bg); color: var(--text-main); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
        .nav-btn:hover:not(:disabled) { background: var(--nav-btn-hover); transform: scale(1.05); }
        .nav-btn:active:not(:disabled) { transform: scale(0.95); }
        .nav-btn:disabled { opacity: 0.4; cursor: default; }
        .nav-info { padding: 0 16px; text-align: center; min-width: 90px; cursor: pointer; border-radius: 12px; }
        .nav-info:hover { background: var(--tag-bg); }
        .nav-info__label { font-size: 0.65rem; color: var(--text-sub); text-transform: uppercase; letter-spacing: 0.1em; }
        .nav-info__val { font-size: 1.1rem; font-weight: 600; color: var(--text-accent); }
        .empty-state { grid-column: 1 / -1; text-align: center; padding: 80px 20px; color: var(--text-sub); background: var(--card-bg); border-radius: 24px; border: 1px solid var(--card-border); }
        .empty-icon { font-size: 3rem; display: block; margin-bottom: 16px; opacity: 0.5; filter: grayscale(1); }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header__label" id="yearDisplay">2024</div>
            <h1 class="header__title" id="dateDisplay">...</h1>
        </header>
        <main class="schedule-grid" id="schedule"></main>
    </div>
    <div class="nav-wrapper">
        <nav class="nav-pill">
            <button class="nav-btn" id="prevBtn" aria-label="–ù–∞–∑–∞–¥">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
            </button>
            <div class="nav-info" id="resetBtn" role="button">
                <div class="nav-info__label">–ù–µ–¥–µ–ª—è</div>
                <div class="nav-info__val" id="weekNumber">--</div>
            </div>
            <button class="nav-btn" id="nextBtn" aria-label="–í–ø–µ—Ä–µ–¥">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
            </button>
        </nav>
    </div>
<script>
    const CONFIG={MIN:20,MAX:39,START:{m:8,d:1},DAYS:['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫','–í—Ç–æ—Ä–Ω–∏–∫','–°—Ä–µ–¥–∞','–ß–µ—Ç–≤–µ—Ä–≥','–ü—è—Ç–Ω–∏—Ü–∞','–°—É–±–±–æ—Ç–∞'],MS:604800000};
    const DATA={
        odd:{'–°—Ä–µ–¥–∞':[{t:'15:30 ‚Äì 17:05',n:'–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —á–∏—Å–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã',y:'–õ–µ–∫—Ü–∏—è',p:'–∑–∞–≤. –∫–∞—Ñ–µ–¥—Ä–æ–π –ì—É–¥–æ–≤ –ê.–ú.',l:'https://bbb.kemsu.ru/b/nt9-332-k4x-2pe'},{t:'17:15 ‚Äì 18:50',n:'–ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π',y:'–õ–µ–∫—Ü–∏—è',p:'–¥–æ—Ü. –°–∞–±–ª–∏–Ω—Å–∫–∏–π –ê.–ò.'},{t:'19:00 ‚Äì 20:35',n:'–ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π',y:'–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è',p:'–¥–æ—Ü. –°–∞–±–ª–∏–Ω—Å–∫–∏–π –ê.–ò.'}]},
        even:{'–°—Ä–µ–¥–∞':[{t:'15:30 ‚Äì 17:05',n:'–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —á–∏—Å–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã',y:'–ü—Ä–∞–∫—Ç–∏–∫–∞',p:'–∑–∞–≤. –∫–∞—Ñ–µ–¥—Ä–æ–π –ì—É–¥–æ–≤ –ê.–ú.',l:'https://bbb.kemsu.ru/b/nt9-332-k4x-2pe'}],'–ü—è—Ç–Ω–∏—Ü–∞':[{t:'17:15 ‚Äì 18:50',n:'–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏ –º–æ–¥–µ–ª–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏',y:'–õ–µ–∫—Ü–∏—è',p:'–¥–æ—Ü. –°–µ—Ä–≥–µ–µ–≤–∞ –û.–ê.'},{t:'19:00 ‚Äì 20:35',n:'–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏ –º–æ–¥–µ–ª–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏',y:'–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è',p:'–¥–æ—Ü. –°–µ—Ä–≥–µ–µ–≤–∞ –û.–ê.'}]}
    };
    const getWeek=d=>{
        const y=d.getMonth()<CONFIG.START.m?d.getFullYear()-1:d.getFullYear();
        const s=new Date(y,CONFIG.START.m,CONFIG.START.d);
        s.setDate(s.getDate()-((s.getDay()+6)%7));
        return Math.ceil((d-s)/CONFIG.MS);
    };
    const addW=(d,w)=>{const r=new Date(d);r.setDate(r.getDate()+w*7);return r;};
    const esc=s=>s?document.createElement('div').appendChild(document.createTextNode(s)).parentNode.innerHTML:'';
    
    class App {
        constructor() {
            this.off=0;
            this.ui={
                y:document.getElementById('yearDisplay'),
                d:document.getElementById('dateDisplay'),
                s:document.getElementById('schedule'),
                w:document.getElementById('weekNumber'),
                p:document.getElementById('prevBtn'),
                n:document.getElementById('nextBtn'),
                r:document.getElementById('resetBtn')
            };
            this.ui.p.onclick=()=>this.go(-1);
            this.ui.n.onclick=()=>this.go(1);
            this.ui.r.onclick=()=>this.rst();
            document.onkeydown=e=>!e.target.closest('input')&&{ArrowLeft:-1,ArrowRight:1,Home:0}[e.key]!==undefined&&(e.key==='Home'?this.rst():this.go({ArrowLeft:-1,ArrowRight:1}[e.key]));
            this.draw();
        }
        state(o=0){
            const d=addW(new Date(),this.off+o), w=getWeek(d);
            return {d,w,t:w%2===0?'even':'odd'};
        }
        go(d){
            const w=this.state(d).w;
            if(w>=CONFIG.MIN&&w<=CONFIG.MAX){
                this.ui.s.classList.add('fade-out');
                setTimeout(()=>{this.off+=d;this.draw();this.ui.s.classList.remove('fade-out');},250);
            }
        }
        rst(){
            if(this.off!==0){
                this.ui.s.classList.add('fade-out');
                setTimeout(()=>{this.off=0;this.draw();this.ui.s.classList.remove('fade-out');},250);
            }
        }
        draw(){
            const {d,w,t}=this.state(), p=this.state(-1), n=this.state(1);
            this.ui.y.textContent=d.getFullYear();
            this.ui.d.innerHTML=d.toLocaleDateString('ru-RU',{day:'numeric',month:'long'});
            this.ui.w.textContent=w;
            this.ui.p.disabled=p.w<CONFIG.MIN;
            this.ui.n.disabled=n.w>CONFIG.MAX;
            this.ui.r.style.opacity=this.off===0?'0.4':'1';
            
            const sch=DATA[t]||{}, tds=CONFIG.DAYS.filter(k=>sch[k]?.length), today=(new Date().getDay()+6)%7;
            this.ui.s.innerHTML=!tds.length?
                `<div class="empty-state"><span class="empty-icon">üçÉ</span><p>–°–≤–æ–±–æ–¥–Ω–∞—è –Ω–µ–¥–µ–ª—è</p></div>`:
                tds.map(k=>this.card(k,sch[k],this.off===0&&CONFIG.DAYS[today]===k)).join('');
        }
        card(d,ls,now){
            return `<article class="day-card ${now?'day-card--today':''}"><div class="day-header"><h2 class="day-title">${esc(d)}</h2>${now?'<span class="today-badge">–°–µ–≥–æ–¥–Ω—è</span>':''}</div><div style="display:flex;flex-direction:column;gap:8px">${ls.map(l=>this.item(l)).join('')}</div></article>`;
        }
        item(l){
            const tag=l.l&&l.l.startsWith('https')?'a':'div', att=tag==='a'?`href="${esc(l.l)}" target="_blank"`:'';
            return `<${tag} class="lesson" ${att} data-type="${esc(l.y)}"><div class="lesson__time">${esc(l.t)}</div><div class="lesson__name">${esc(l.n)}</div><div class="lesson__meta"><span class="tag">${esc(l.y)}</span><span class="tag">${esc(l.p)}</span></div></${tag}>`;
        }
    }
    new App();
</script>
</body>
</html>
